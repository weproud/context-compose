version: 1
kind: task
name: 'security-implementation'
description: 'Context for security implementation with comprehensive threat protection and compliance'

context:
  workflow: workflows/workflow.yaml
  roles:
- personas/dan-abramov.yaml
- personas/linus-torvalds.yaml
  rules:
    - rules/the-must-follow.yaml
    - rules/security-guidelines.yaml
    - rules/clean-code.yaml
    - rules/error-handling.yaml
    - rules/development.yaml
  mcps:
    - mcps/sequential-thinking.yaml
    - mcps/context7.yaml
    - mcps/web-search.yaml
  notify:
    - notify/slack.yaml
prompt: |
  Implement comprehensive security measures with defense-in-depth strategy.
  Apply security best practices for authentication, authorization, and data protection.
  Conduct regular security audits and vulnerability assessments.
  Ensure compliance with security standards while maintaining system performance.
enhanced-prompt: |-
  # Security Implementation Context

  ## Security Philosophy
  Implement comprehensive security measures with **defense-in-depth strategy** applying **security by design** principles throughout the development lifecycle.

  ## Core Security Areas
  1. **Authentication & Authorization:**
     - Implement robust user authentication systems
     - Apply role-based access control (RBAC) and permissions
     - Use secure session management and token handling
     - Enable multi-factor authentication for sensitive operations

  2. **Data Protection:**
     - Encrypt sensitive data at rest and in transit
     - Implement proper data sanitization and validation
     - Apply principle of least privilege for data access
     - Ensure secure backup and recovery procedures

  3. **Application Security:**
     - Prevent common vulnerabilities (OWASP Top 10)
     - Implement input validation and output encoding
     - Apply secure coding practices throughout development
     - Use security headers and content security policies

  ## Security Implementation Process
  1. **Security Assessment & Planning:**
     - Conduct threat modeling and risk assessment
     - Identify security requirements and compliance needs
     - Plan security architecture and controls
     - Establish security testing and validation procedures

  2. **Security Controls Implementation:**
     - Deploy authentication and authorization mechanisms
     - Implement encryption and data protection measures
     - Configure security monitoring and logging systems
     - Apply network security and firewall configurations

  3. **Security Validation & Monitoring:**
     - Conduct security testing and penetration testing
     - Perform regular vulnerability scans and assessments
     - Monitor security events and incident response
     - Maintain security documentation and compliance records

  ## Security Best Practices
  - **Input Validation**: Validate and sanitize all user inputs
  - **Secure Communications**: Use HTTPS/TLS for all data transmission
  - **Error Handling**: Avoid information disclosure in error messages
  - **Logging**: Implement comprehensive security event logging
  - **Updates**: Keep all dependencies and systems updated

  ## Compliance & Standards
  - Follow OWASP security guidelines and best practices
  - Implement ISO 27001/SOC 2 compliance requirements
  - Apply GDPR/CCPA data protection regulations
  - Maintain security documentation and audit trails

  ## Success Criteria
  - ✅ All security vulnerabilities addressed and mitigated
  - ✅ Authentication and authorization systems properly implemented
  - ✅ Data encryption and protection measures active
  - ✅ Security monitoring and incident response operational
  - ✅ Compliance requirements met and documented

  **Ready to implement security measures. What security areas would you like to focus on?**
