# `release-it`을 이용한 릴리스 자동화 가이드

이 문서는 `release-it`을 사용하여 프로젝트의 버전 관리, 변경 로그(`CHANGELOG.md`) 생성, GitHub 릴리스 생성을 자동화하는 방법을 안내합니다.

## 핵심 개념: Conventional Commits

릴리스 자동화의 핵심은 **Conventional Commits** 명세에 따라 커밋 메시지를 작성하는 것입니다. `release-it`은 이 커밋 메시지를 분석하여 자동으로 버전 번호를 추천하고, 변경 로그를 생성합니다.

주요 커밋 유형은 다음과 같습니다:

- `feat`: 새로운 기능 추가 (Minor 버전 업데이트)
- `fix`: 버그 수정 (Patch 버전 업데이트)
- `docs`: 문서 변경
- `style`: 코드 포맷팅, 세미콜론 등 기능과 관계없는 스타일 수정
- `refactor`: 성능 향상이나 구조 개선 등 코드 리팩토링
- `test`: 테스트 코드 추가 또는 수정
- `chore`: 빌드 프로세스, 의존성 관리 등 프로덕션 코드와 무관한 변경

**중요**: 커밋 메시지가 이 규칙을 따르지 않으면, 해당 변경 사항은 `CHANGELOG.md`에 포함되지 않습니다.

## 릴리스 프로세스

### 1단계: 코드 변경 및 커밋

새로운 기능을 추가하거나 버그를 수정한 뒤, Conventional Commits 규칙에 맞게 `git commit`을 실행합니다.

**예시 1: 새로운 기능 추가**

```bash
git commit -m "feat: 사용자 프로필 이미지 업로드 기능 추가"
```

**예시 2: 버그 수정**

```bash
git commit -m "fix: 로그인 시 간헐적으로 발생하던 오류 수정"
```

### 2단계: 릴리스 명령어 실행

모든 변경 사항을 커밋하고 원격 저장소에 푸시했다면, 다음 명령어를 실행하여 릴리스 프로세스를 시작합니다.

```bash
pnpm release
```

### 3단계: 버전 선택

명령어를 실행하면 `release-it`이 마지막 릴리스 이후의 커밋 내역을 분석하여 추천 버전을 포함한 선택지를 대화형으로 보여줍니다.

```
? Select a version (recommended: 1.3.0)
❯ patch (1.2.2)
  minor (1.3.0)
  major (2.0.0)
  ...
```

키보드 화살표로 버전을 선택하고 Enter를 누릅니다. 대부분의 경우 추천 버전을 선택하는 것이 좋습니다.

### 4단계: 자동화된 작업 확인

버전 선택 후, `release-it`이 다음 작업을 자동으로 수행합니다.

1.  **사전 작업 실행**: `npm run pre-publish`를 실행하여 코드 품질 검사, 테스트, 빌드를 진행합니다.
2.  **CHANGELOG 업데이트**: `CHANGELOG.md` 파일에 최신 변경 내역이 자동으로 추가됩니다.
3.  **커밋 및 태그 생성**: `package.json` 버전 업데이트 및 `CHANGELOG.md` 변경 사항을 포함하는 `chore: release vX.X.X` 커밋과 `vX.X.X` Git 태그를 생성합니다.
4.  **GitHub 릴리스 생성**: 생성된 커밋과 태그를 GitHub에 푸시하고, 변경 로그를 본문으로 하는 새로운 릴리스를 GitHub에 발행합니다.

이 과정을 통해 수동으로 처리하던 번거로운 릴리스 작업이 모두 자동화됩니다.
